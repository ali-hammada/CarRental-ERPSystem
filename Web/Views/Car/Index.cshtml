@model IEnumerable<ApplicationCore.Entities.Car>

<div class="d-flex justify-content-between align-items-center mb-3">
  <h3>Cars</h3>
  <a asp-controller="Car" asp-action="Create" class="btn btn-success">
    <i class="bi bi-plus-circle"></i> Add New Car
  </a>
</div>

@if(!Model.Any())
{
  <div class="alert alert-info">
    No cars available yet. Click "Add New Car" to create one.
  </div>
}
else
{
  <div class="row">
    @foreach(var car in Model)
    {
      <div class="col-md-4 mb-3">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">@car.Model</h5>
            <p class="card-text">
              <strong>Year:</strong> @car.Year <br />
              <strong>Price:</strong> @car.PricePerDay.ToString("C") / day
            </p>

            <a asp-controller="Rentals"
               asp-action="Open"
               asp-route-carId="@car.Id"
               class="btn btn-primary">
              <i class="bi bi-car-front"></i> Rent Now
            </a>

            <a asp-controller="Car"
               asp-action="Edit"
               asp-route-id="@car.Id"
               class="btn btn-warning ms-1">
              <i class="bi bi-pencil-square"></i> Edit
            </a>

            <form asp-controller="Car"
                  asp-action="Delete"
                  asp-route-id="@car.Id"
                  method="post"
                  class="d-inline"
                  onsubmit="return confirm('Are you sure you want to delete this car?');">
              @Html.AntiForgeryToken()
              <button type="submit" class="btn btn-danger ms-1">
                <i class="bi bi-trash"></i> Delete
              </button>
            </form>
          </div>
        </div>
      </div>
    }
  </div>
}
